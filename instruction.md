
### **제목: [중요] MQI Communicator 개발 프로젝트 착수 요청: 개발 가이드라인 및 모듈 분담**

**수신:** AI 개발팀 (5인)

**발신:** 프로젝트 관리자

안녕하세요, 개발팀 여러분.

'MQI Communicator' 프로젝트 개발을 공식적으로 요청합니다. 본 프로젝트는 폐쇄망 환경에서 장기간 안정적으로 운영되는 것을 목표로 하므로, 초기 단계부터 높은 코드 품질과 팀원 간의 일관성을 확보하는 것이 매우 중요합니다.

첨부된 **'최종 통합 구현 사양서'**를 개발의 유일한 진실 공급원(Single Source of Truth)으로 삼아 주시고, 아래의 개발 가이드라인을 반드시 준수하여 주시기 바랍니다.

### 1. 핵심 개발 원칙 및 요구사항

본 프로젝트는 단순성과 안정성을 최우선으로 하며, 이를 위해 다음의 개발 방법론을 도입합니다.

#### **1.1. 테스트 주도 개발 (TDD, Test-Driven Development)**

* **선(先) 테스트 작성, 후(後) 코드 구현 원칙:** 기능 구현 전, 해당 기능의 성공/실패 조건을 정의하는 테스트 케이스(`pytest` 사용)를 먼저 작성합니다.
* **테스트 커버리지:** 전체 코드 커버리지를 **최소 85% 이상**으로 유지해야 합니다. `pytest-cov`를 사용하여 이를 측정하고, Pull Request 시 커버리지 리포트를 함께 제출해 주십시오.
* **단위(Unit) 및 통합(Integration) 테스트:** 개별 함수의 정확성을 검증하는 **단위 테스트**와, 모듈 간(예: `case_scanner` -> `db_manager` -> `workflow_submitter`)의 상호작용을 검증하는 **통합 테스트**를 모두 작성해야 합니다.

#### **1.2. 정적 분석 (Static Analysis) - 코드 작성 단계에서의 오류 방지**

모든 코드는 커밋(Commit) 전에 아래의 정적 분석 도구를 통과해야 합니다.
(※ `pre-commit hook` 설정을 통해 자동화를 권장합니다.)

* **코드 포매터 (Code Formatter):** `Black`을 사용하여 코드 스타일을 통일합니다.
* **린터 (Linter):** `Flake8` 또는 `Pylint`를 사용하여 잠재적인 오류 및 안티 패턴을 검출합니다.
* **타입 체커 (Type Checker):** `MyPy`를 사용하여 모든 함수와 주요 변수에 명시된 타입 힌트(Type Hint)의 정합성을 검증합니다. 사양서의 모든 함수 정의에는 타입 힌트 작성을 의무화합니다.

#### **1.3. 동적 분석 (Dynamic Analysis) - 실행 단계에서의 오류 검증**

* **프로파일링 (Profiling):** 파일 I/O 또는 DB 접근과 같이 성능 저하가 예상되는 구간에 대해, 필요시 `cProfile` 등을 사용하여 병목 현상을 분석하고 최적화 방안을 보고해야 합니다.
* **End-to-End (E2E) 테스트 시나리오:** 개발 초기 단계에서 '신규 케이스 생성 -> HPC 전송 -> 시뮬레이션 -> 결과 수신 -> DB 상태 완료'로 이어지는 전체 워크플로우를 검증할 수 있는 테스트 시나리오를 정의하고, 주요 단계마다 이를 실행하여 시스템의 무결성을 검증합니다.

### 2. 협업 및 코드 통일성 가이드

* **버전 관리:** Git을 사용하며, `Git-flow` 브랜칭 전략을 따릅니다.
    * `main`: 배포 가능한 안정 버전
    * `develop`: 개발의 중심이 되는 브랜치
    * `feature/기능명`: 각 개발자가 맡은 기능 개발 브랜치
* **Pull Request (PR):** 모든 `feature` 브랜치는 `develop` 브랜치로 PR을 통해 머지(Merge)합니다.
* **코드 리뷰:** 모든 PR은 **최소 1명 이상의 동료 개발자에게 코드 리뷰**를 받고 승인(Approve)을 받아야 합니다. 리뷰 시에는 위에서 언급된 TDD 및 정적 분석 규칙 준수 여부를 중점적으로 확인합니다.
* **설정 관리:** 모든 경로, IP 주소, 자격 증명 등 변경 가능한 값은 `config/config.yaml` 파일에서만 관리하며, 코드 내에 하드코딩하는 것을 엄격히 금지합니다.

### 3. 권장 모듈 분담 (팀 내 협의 후 조정 가능)

효율적인 개발을 위해 아래와 같이 초기 역할을 제안합니다. 각 담당자는 자신의 모듈에 대한 테스트 코드 작성과 최종 품질에 책임을 집니다.

| 개발자 | 담당 모듈 | 주요 책임 |
| :--- | :--- | :--- |
| **개발자 1** | **코어 및 DB** (`main.py`, `common/db_manager.py`) | 애플리케이션 진입점, 로깅 설정, DB 스키마 및 CRUD 로직 구현 |
| **개발자 2** | **케이스 감지** (`services/case_scanner.py`) | `Watchdog`을 이용한 신규 디렉토리 감지, DB 상태 초기화 로직 구현 |
| **개발자 3** | **워크플로우 제출** (`services/workflow_submitter.py`) | `scp`를 통한 파일 전송, `Pueue` 원격 명령어 생성 및 제출 로직 구현 |
| **개발자 4** | **원격 스크립트** (`remote_scripts/`) | HPC에서 실행될 `interpreter.py`, `moquisim.py`의 비즈니스 로직 구현 |
| **개발자 5** | **CI/CD 및 테스트 총괄** | `pytest` 테스트 환경 구축, `pre-commit` 설정, 전체 테스트 커버리지 관리, E2E 테스트 시나리오 설계 및 `dashboard.py` 구현 |

### 4. 최종 목표

'최종 통합 구현 사양서'의 모든 요구사항을 만족하며, 상기된 개발 원칙과 가이드라인을 완벽하게 준수한 안정적인 'MQI Communicator' 애플리케이션을 개발하는 것입니다.

궁금한 점은 언제든지 문의해주시기 바랍니다. 성공적인 프로젝트 진행을 기대하겠습니다.

감사합니다.